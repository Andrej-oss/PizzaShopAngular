<div class="admin-card-menu">
  <div class="example-sidenav">
    <p *ngIf="(avatar | async) === null">
      <img src="../../../assets/img/awaiting-image-profile-1000-1000.jpg" style="width: 20%; border-radius: 50%">
    </p>
    <p *ngIf="(avatar | async) !== null">
      <img src="{{avatarUrl  + (avatar | async)?.path}}" style="width: 20%; border-radius: 50%">
    </p>
    <p *ngIf="admin">
      {{admin.username}}
    </p>
    <p *ngIf="isUpdateInfoOpen">
      <a *ngIf="isAvatarOpen">
        <input type="file" (change)="uploadFile($event)" accept=".jpg">
        <button mat-button (click)="onSaveAvatar(admin.id)">save avatar</button>
      </a>
      <button mat-button (click)="onOpenAvatarChange()">change avatar</button>
    </p>
    <!--    <button (click)="showFiller = !showFiller" mat-raised-button style="width: 70%">-->
    <!--      Toggle extra text-->
    <!--    </button>-->
    <button mat-raised-button (click)="onUserUpdate()">
      Administrating Profile
    </button>
    <button mat-raised-button (click)="onPizzaUpdate()" *ngIf="isAdmin">
      Administrating Pizza
    </button>
    <button mat-raised-button (click)="onIngredientPage()">
      Administrating Ingredients
    </button>
    <button mat-raised-button>
      Administrating Sushi
    </button>
    <button mat-raised-button>
      Administrating Drinks
    </button>
    <button mat-raised-button (click)="onAllPurchases()">
      Administrating Purchases
    </button>
    <button mat-raised-button (click)="onUsersAdmin()">
      Administrating Users
    </button>
  </div>
  <div *ngIf="isOpenPizzaOptions">
    <div class="example-sidenav-content">
      <button mat-button (click)="onPizzaCreate()">Create new pizza</button>
      <app-pizza-admin-table></app-pizza-admin-table>
      <div *ngIf="isOpenPizzaOptions && isOpenPizzaCreator">
        <mat-accordion class="example-headers-align" style="padding: 10%">
          <mat-expansion-panel [expanded]="step === 0" (opened)="setStep(0)" hideToggle>
            <mat-expansion-panel-header>
              <mat-panel-title>
                Pizza
              </mat-panel-title>
              <mat-panel-description>
                Type your new pizza
                <mat-icon>map</mat-icon>
              </mat-panel-description>
            </mat-expansion-panel-header>
            <app-form-pizza-posting></app-form-pizza-posting>
            <mat-action-row>
              <button mat-button color="warn" (click)="prevStep()">Previous</button>
              <button mat-button color="primary" (click)="nextStep()">Next</button>
            </mat-action-row>
          </mat-expansion-panel>
          <mat-expansion-panel [expanded]="step === 1" (opened)="setStep(1)" hideToggle>
            <mat-expansion-panel-header>
              <mat-panel-title>
                Pizza Size
              </mat-panel-title>
              <mat-panel-description>
                Type your new Pizzas size
                <mat-icon>date_range</mat-icon>
              </mat-panel-description>
            </mat-expansion-panel-header>
            <app-form-size-pizza-post></app-form-size-pizza-post>
            <mat-action-row>
              <button mat-button color="warn" (click)="prevStep()">Previous</button>
              <button mat-button color="primary" (click)="nextStep()">End</button>
            </mat-action-row>
          </mat-expansion-panel>
        </mat-accordion>
      </div>
    </div>
  </div>
  <div *ngIf="isOpenUsersAdministrating" class="admin-users-content">
    <app-user-admin-table></app-user-admin-table>
  </div>
  <div *ngIf="isOpenAllPurchases">
    <app-purchase type="admin"></app-purchase>
  </div>
  <div *ngIf="isOpenUserUpdate">
    <app-form-user-registration [user]="admin" style="width: 2vw"></app-form-user-registration>
  </div>
  <div *ngIf="isOpenIngredientUpdate">
    <button mat-button (click)="onOpenIngredientCreator()">
      {{isOpenIngredientCreator ? 'Hide Ingredient form creation' : 'Create new Pizza Ingredient'}}</button>
    <app-ingredient-admin-page></app-ingredient-admin-page>
    <div *ngIf="isOpenIngredientCreator">
      <app-form-ingredient-posting></app-form-ingredient-posting>
    </div>
  </div>
</div>
